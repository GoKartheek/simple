{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nimport _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nvar __jsx = React.createElement;\n\n/*\n  This `Link` component is a wrap of the standard\n  NextJs `Link` component, with some simple lang\n  redirect logic in place.\n  If you haven't already, read this issue comment:\n  https://github.com/zeit/next.js/issues/2833#issuecomment-414919347\n  This component automatically provides this functionality:\n  <Link href=\"/product?slug=something\" as=\"/products/something\">\n  Wherein `slug` is actually our i18n lang, and it gets\n  pulled automatically.\n  Very important: if you import `Link` from NextJs directly,\n  and not this file, your lang subpath routing will break.\n*/\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport NextLink from 'next/link';\nimport { withTranslation } from 'react-i18next'; // import { I18n, Config } from '../../types.d'\n\nimport { lngPathCorrector, subpathIsRequired } from '../utils';\nimport nextI18next from '../i18n';\nimport withInternals from '../hocs/with-internals';\n\nconst removeWithTranslationProps = props => {\n  const strippedProps = _Object$assign({}, props);\n\n  delete strippedProps.defaultNS;\n  delete strippedProps.i18n;\n  delete strippedProps.i18nOptions;\n  delete strippedProps.lng;\n  delete strippedProps.reportNS;\n  delete strippedProps.t;\n  delete strippedProps.tReady;\n  delete strippedProps.forwardedRef;\n  return strippedProps;\n}; // type Props = LinkProps & {\n//   i18n: I18n;\n//   nextI18NextInternals: {\n//     config: Config;\n//   };\n// }\n\n\nclass Link extends React.Component {\n  //   static defaultProps = {\n  //     as: undefined,\n  //   }\n  render() {\n    const _this$props = this.props,\n          {\n      as,\n      children,\n      href,\n      i18n,\n      nextI18NextInternals\n    } = _this$props,\n          props = _objectWithoutProperties(_this$props, [\"as\", \"children\", \"href\", \"i18n\", \"nextI18NextInternals\"]);\n\n    const {\n      language\n    } = i18n;\n    const {\n      config\n    } = nextI18NextInternals;\n\n    if (subpathIsRequired(config, language)) {\n      const {\n        as: correctedAs,\n        href: correctedHref\n      } = lngPathCorrector(config, {\n        as,\n        href\n      }, language);\n      return __jsx(NextLink, _extends({\n        href: correctedHref,\n        as: correctedAs\n      }, removeWithTranslationProps(props)), children);\n    }\n\n    return __jsx(NextLink, _extends({\n      href: href,\n      as: as\n    }, removeWithTranslationProps(props)), children);\n  }\n\n}\n\nLink.propTypes = {\n  as: PropTypes.string,\n  children: PropTypes.node.isRequired,\n  href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n  nextI18NextInternals: PropTypes.shape({\n    config: PropTypes.shape({\n      defaultLanguage: PropTypes.string.isRequired,\n      localeSubpaths: PropTypes.object.isRequired\n    }).isRequired\n  }).isRequired,\n  i18n: PropTypes.object\n};\nconst nextI18NextInternals = {\n  config: nextI18next.config,\n  i18n: nextI18next.i18n\n};\n/*\n  Usage of `withTranslation` here is just to\n  force `Link` to rerender on language change\n*/\n\nexport default withInternals(withTranslation()(Link), nextI18NextInternals);","map":{"version":3,"sources":["/Users/kartheek/Desktop/zenrays/next/lang/simple/components/Link.js"],"names":["React","PropTypes","NextLink","withTranslation","lngPathCorrector","subpathIsRequired","nextI18next","withInternals","removeWithTranslationProps","props","strippedProps","defaultNS","i18n","i18nOptions","lng","reportNS","t","tReady","forwardedRef","Link","Component","render","as","children","href","nextI18NextInternals","language","config","correctedAs","correctedHref","propTypes","string","node","isRequired","oneOfType","object","shape","defaultLanguage","localeSubpaths"],"mappings":"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","sourcesContent":["/*\n  This `Link` component is a wrap of the standard\n  NextJs `Link` component, with some simple lang\n  redirect logic in place.\n  If you haven't already, read this issue comment:\n  https://github.com/zeit/next.js/issues/2833#issuecomment-414919347\n  This component automatically provides this functionality:\n  <Link href=\"/product?slug=something\" as=\"/products/something\">\n  Wherein `slug` is actually our i18n lang, and it gets\n  pulled automatically.\n  Very important: if you import `Link` from NextJs directly,\n  and not this file, your lang subpath routing will break.\n*/\n\nimport React from 'react'\nimport PropTypes from 'prop-types'\nimport NextLink from 'next/link'\nimport { withTranslation } from 'react-i18next'\n\n// import { I18n, Config } from '../../types.d'\nimport { lngPathCorrector, subpathIsRequired } from '../utils'\nimport nextI18next from '../i18n'\nimport withInternals from '../hocs/with-internals'\n\nconst removeWithTranslationProps = (props) => {\n  const strippedProps = Object.assign({}, props)\n  delete strippedProps.defaultNS\n  delete strippedProps.i18n\n  delete strippedProps.i18nOptions\n  delete strippedProps.lng\n  delete strippedProps.reportNS\n  delete strippedProps.t\n  delete strippedProps.tReady\n  delete strippedProps.forwardedRef\n  return strippedProps\n}\n\n// type Props = LinkProps & {\n//   i18n: I18n;\n//   nextI18NextInternals: {\n//     config: Config;\n//   };\n// }\n\nclass Link extends React.Component {\n  \n\n//   static defaultProps = {\n//     as: undefined,\n//   }\n\n  render() {\n    const {\n      as, children, href, i18n, nextI18NextInternals, ...props\n    } = this.props\n    const { language } = i18n\n    const { config } = nextI18NextInternals\n\n    if (subpathIsRequired(config, language)) {\n      const { as: correctedAs, href: correctedHref } = lngPathCorrector(\n        config, { as, href }, language,\n      )\n\n      return (\n        <NextLink\n          href={correctedHref}\n          as={correctedAs}\n          {...removeWithTranslationProps(props)}\n        >\n          {children}\n        </NextLink>\n      )\n    }\n\n    return (\n      <NextLink\n        href={href}\n        as={as}\n        {...removeWithTranslationProps(props)}\n      >\n        {children}\n      </NextLink>\n    )\n  }\n}\n\nLink.propTypes = {\n    as: PropTypes.string,\n    children: PropTypes.node.isRequired,\n    href: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.object,\n    ]).isRequired,\n    nextI18NextInternals: PropTypes.shape({\n        config: PropTypes.shape({\n        defaultLanguage: PropTypes.string.isRequired,\n        localeSubpaths: PropTypes.object.isRequired,\n        }).isRequired,\n    }).isRequired,\n    i18n: PropTypes.object,\n}\n\nconst nextI18NextInternals = { config: nextI18next.config, i18n: nextI18next.i18n }\n\n/*\n  Usage of `withTranslation` here is just to\n  force `Link` to rerender on language change\n*/\nexport default withInternals(withTranslation()(Link), nextI18NextInternals)"]},"metadata":{},"sourceType":"module"}